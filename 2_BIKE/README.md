# 따릉이 대여량 예측 AI 경진대회

<img width="699" alt="image" src="https://github.com/user-attachments/assets/1c82c1aa-f11e-4ee6-b389-f0a37849fb14">

## 대회 링크
- [대회 페이지 바로가기](https://dacon.io/competitions/open/235939/overview/description)
- **대회 기간**: 2022년 7월 13일 - 7월 19일
- **최종 순위**: 3위 (참가자 수 40명)
<img width="695" alt="image" src="https://github.com/user-attachments/assets/152432f9-66ae-45d0-922e-08beb945b72e">

## 1. 대회 배경
서울시의 공유 자전거 서비스인 “따릉이”의 대여량과 날씨 데이터를 활용해 **데이터 분석과 예측 모델링**에 입문할 수 있는 해커톤입니다. 참가자들은 제공된 기본 코드와 탐색적 데이터 분석(EDA) 예시를 통해 데이터 분석의 기초를 익히고, 분석 방법을 공유하며 실력을 겨뤄볼 수 있습니다. 이를 통해 데이터 분석 대회의 **즐거움과 유용성을 느끼고, 데이터 기반의 의사결정을 경험**할 수 있습니다.

## 2. 대회 목적
서울의 날씨 데이터(온도, 습도, 강수량 등)를 바탕으로 따릉이 대여량을 예측하는 AI 모델을 개발합니다. 이 대회를 통해 데이터 분석과 모델링의 기초를 배울 수 있으며, 참가자는 **데이터 시각화와 분석 방법을 공유**하여 경쟁하며 **데이터 예측 능력을 향상**시킬 수 있습니다. 최종적으로는 대여량 예측을 통해 **도시의 공유 자전거 운영 효율성을 높이는 데 기여**하는 것이 목표입니다.

## 3. 데이터 개요
- **Train 데이터**: 2018년부터 2020년까지의 서울시 따릉이 대여량 및 날씨 데이터(일별).
- **Test 데이터**: 2021년의 날씨 데이터로 구성된 따릉이 대여량 예측용 데이터.

## 4. 평가 방식
모델 성능은 **정규화된 평균 절대 오차(NMAE, Normalized Mean Absolute Error)** 를 기준으로 평가합니다.
- **Public 평가**: 테스트 데이터 중 50%로 무작위 평가.
- **Private 평가**: 테스트 데이터의 나머지 50%로 평가하여 최종 성적 결정. 

## 5. 나의 솔루션

### 코드 링크
- [최종 코드 파일 - Final_Solution.ipynb](./code/Final_Submission.ipynb)

### 데이터 전처리
1. **날짜 정보 분할**: `date_time` 컬럼에서 **연도, 월, 일, 요일** 정보를 추출해 각각의 새로운 컬럼으로 추가하였습니다. 요일 변수는 숫자로 변환하여 모델에 입력할 수 있도록 처리했습니다.
   
2. **파생 변수 생성**: 기온과 습도, 풍속 등의 특성을 결합하여 따릉이 대여량에 영향을 줄 수 있는 파생 변수를 생성하였습니다.
   - **더위 점수**: 기온과 습도의 곱을 통해 더운 날씨의 영향을 반영.
   - **추위 점수**: 풍속을 최저 기온으로 나누어 추운 날씨의 영향을 반영.
   - **일교차**: 최대 기온과 최저 기온의 차이로, 일교차가 클 때의 대여량 변화를 반영.

3. **특성 선택 및 제거**: 상관관계가 낮거나 불필요한 변수를 제거했습니다.
   - **제거된 변수**: `week_day`, `day`, `wind_direction` 등 대여량과 상관관계가 낮은 변수 제거.

4. **데이터 인플레이션**: 연도별 대여량의 변화율을 반영하여 예측 결과를 보정하기 위해 2020년에서 2021년으로의 대여량 증가율을 반영한 인플레이션 변수를 추가했습니다.

### 모델링 및 예측
1. **모델 선택**:
   - **1차 모델링 - Linear Regression**: 초기 모델로 선형 회귀 모델을 사용해 대여량을 예측.
   - **2차 모델링 - Random Forest Regressor**: 모델 성능을 개선하기 위해 Random Forest Regressor를 활용하여 예측.
   
2. **하이퍼파라미터 튜닝**:
   - Random Forest 모델에 대해 `max_depth`, `n_estimators`, `min_samples_leaf`, `min_samples_split` 등의 하이퍼파라미터를 **GridSearchCV**로 최적화하여 성능을 최적화했습니다.

### 성능 평가 및 결과
- **정규화 평균 절대 오차 (NMAE)**: 최종 모델에서 따릉이 대여량 예측의 NMAE를 줄이는 데 성공하여, 보다 정확한 예측을 달성.
- **결과 분석**: 더위 점수, 추위 점수, 일교차 등의 파생 변수가 예측에 유의미한 영향을 미치는 것을 확인했습니다.

---

### Keywords

- **데이터 전처리**: 날짜 분할, 파생 변수 생성 (더위 점수, 추위 점수, 일교차), 변수 선택 및 제거
- **모델링 기법**: Linear Regression, Random Forest Regressor
- **하이퍼파라미터 튜닝**: GridSearchCV, `max_depth`, `n_estimators`, `min_samples_leaf`, `min_samples_split`
- **평가 방식**: Normalized Mean Absolute Error (NMAE)
